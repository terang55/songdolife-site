# 🕐 Windows 작업 스케줄러로 자동 크롤링 설정하기

매일 수동으로 실행하던 `crawl_sync_push.bat`를 Windows 작업 스케줄러를 사용하여 자동화하는 방법입니다.

## 📋 설정 단계별 가이드

### 1단계: 작업 스케줄러 열기
1. `Windows + R` 키를 누르고 `taskschd.msc` 입력 후 엔터
2. 또는 시작 메뉴에서 "작업 스케줄러" 검색

### 2단계: 기본 작업 만들기
1. 오른쪽 패널에서 **"기본 작업 만들기..."** 클릭
2. 작업 이름: `송도라이프 데이터 자동 업데이트`
3. 설명: `매일 뉴스/블로그/유튜브 크롤링 및 Git 동기화`

### 3단계: 트리거 설정 (실행 시점)
1. **"매일"** 선택
2. 시작 날짜: 오늘 날짜
3. 시작 시간: `06:00:00` (오전 6시)
4. **다음** 클릭

### 4단계: 작업 설정
1. **"프로그램 시작"** 선택
2. 프로그램/스크립트: `C:\Users\SS\Desktop\cursor\songdolife-info-site\crawler\crawl_sync_push.bat`
3. 시작 위치: `C:\Users\SS\Desktop\cursor\songdolife-info-site\crawler`

### 5단계: 추가 설정 (고급)
작업 완료 후 **"마침을 클릭할 때 이 작업에 대한 속성 대화 상자 열기"** 체크

### 6단계: 고급 옵션 설정
**일반 탭**:
- ✅ 사용자의 로그온 여부에 관계없이 실행
- ✅ 가장 높은 수준의 권한으로 실행

**트리거 탭**:
1. 기존 트리거 선택 후 **편집**
2. **고급 설정**:
   - ✅ 매일 반복: `12시간 00분` (하루에 2번 실행)
   - ✅ 기간: `1일`
   - 만료일: 설정 안함

**조건 탭**:
- ✅ 컴퓨터의 전원이 켜져 있는 경우에만 작업 시작
- ✅ 컴퓨터가 배터리 전원으로 실행 중일 때 시작 안 함 (노트북인 경우)

**설정 탭**:
- ✅ 요청 시 작업 실행 허용
- ✅ 예약된 시작을 놓친 경우 가능한 한 빨리 작업 실행
- 작업 실패 시: **1분 간격으로 최대 3번 다시 시작**

## 🎯 최적 설정 권장사항

### 권장 실행 시간
- **오전 6시**: 밤새 업데이트된 뉴스 수집
- **오후 6시**: 오후에 업데이트된 블로그/유튜브 수집

### 로그 설정
**작업 기록 탭**:
- ✅ 모든 작업 기록 이벤트 로그에 기록

### 보안 설정
1. **일반 탭** → **보안 옵션**
2. 계정: 현재 사용자 계정 (SS)
3. **암호 저장** 필요할 수 있음

## 🔧 테스트 및 확인

### 즉시 테스트 실행
1. 작업 스케줄러에서 생성된 작업 우클릭
2. **실행** 선택
3. 정상 동작 확인

### 실행 기록 확인
1. 작업 스케줄러 → **작업 스케줄러 라이브러리**
2. 생성된 작업 선택
3. 하단 **기록** 탭에서 실행 결과 확인

### 로그 파일 위치
```
C:\Users\SS\Desktop\cursor\songdolife-info-site\crawler\logs\
├── scheduler_YYYYMMDD.log
└── crawl_results_YYYYMMDD.log
```

## 🚨 문제 해결

### 문제 1: 작업이 실행되지 않음
**해결 방법**:
- 경로가 정확한지 확인
- 배치 파일에 실행 권한이 있는지 확인
- 사용자 계정 로그인 상태 확인

### 문제 2: Python 가상환경 오류
**해결 방법**:
- 배치 파일 내 Python 경로 확인
- 가상환경이 올바르게 활성화되는지 확인

### 문제 3: Git 인증 오류
**해결 방법**:
- Git credential helper 설정
- 또는 배치 파일에서 Git 인증 처리

## 📊 모니터링 설정

### 이메일 알림 (선택사항)
작업 실패 시 이메일 알림을 받으려면:
1. **작업** → **이메일 메시지 보내기** 추가
2. SMTP 서버 및 수신자 설정

### 성능 모니터링
```powershell
# PowerShell에서 작업 상태 확인
Get-ScheduledTask -TaskName "송도라이프 데이터 자동 업데이트"
```

## 🎉 완료 후 확인사항

✅ 작업이 예정된 시간에 자동 실행됨
✅ 크롤링 데이터가 정상적으로 수집됨  
✅ Git 커밋 및 푸시가 자동으로 완료됨
✅ 웹사이트에서 최신 데이터 확인 가능

---

**⚠️ 주의사항**: 
- 컴퓨터가 예정된 시간에 켜져있어야 합니다
- Windows 업데이트 후 작업 설정을 다시 확인하세요
- 정기적으로 실행 로그를 확인하여 정상 동작 여부를 점검하세요

**💡 팁**: 
- 처음에는 10분 후로 설정해서 테스트해보세요
- 정상 동작 확인 후 실제 원하는 시간으로 변경하세요