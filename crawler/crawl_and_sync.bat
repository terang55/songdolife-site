@echo off
chcp 65001 > nul
title ì†¡ë„ ì •ë³´ í—ˆë¸Œ - ì „ì²´ í¬ë¡¤ë§ + ë™ê¸°í™”

echo.
echo ============================================================
echo ðŸš€ ì†¡ë„ ì •ë³´ í—ˆë¸Œ - ì „ì²´ í¬ë¡¤ë§ + í”„ë¡ íŠ¸ì—”ë“œ ë™ê¸°í™”
echo ============================================================
echo.

cd /d "%~dp0"

echo ðŸ“‚ í˜„ìž¬ ë””ë ‰í† ë¦¬: %CD%
echo.

echo ðŸ Python ê°€ìƒí™˜ê²½ í™œì„±í™” ì¤‘...
if exist "venv\Scripts\activate.bat" (
    call venv\Scripts\activate.bat
    echo âœ… ê°€ìƒí™˜ê²½ í™œì„±í™” ì™„ë£Œ
) else (
    echo âš ï¸ ê°€ìƒí™˜ê²½ì´ ì—†ìŠµë‹ˆë‹¤. ì‹œìŠ¤í…œ Pythonì„ ì‚¬ìš©í•©ë‹ˆë‹¤.
)
echo.

echo â° ì‹œìž‘ ì‹œê°„: %date% %time%
echo.

echo ==================== 1ë‹¨ê³„: ì „ì²´ í¬ë¡¤ë§ ====================
echo ðŸŽ¯ í”Œëž«í¼ë³„ í‚¤ì›Œë“œ í¬ë¡¤ë§ ì‹œìž‘...
echo ðŸ“° ë‰´ìŠ¤: ê³µì‹ì ì´ê³  ì •í™•í•œ ì§€ëª… ìœ„ì£¼
echo ðŸ“ ë¸”ë¡œê·¸: ìƒí™œ ì •ë³´ì™€ ê°œì¸ ê²½í—˜ ìœ„ì£¼  
echo ðŸŽ¥ ìœ íŠœë¸Œ: ì˜ìƒ ì½˜í…ì¸ ì— ì í•©í•œ í‚¤ì›Œë“œ
echo â˜• ì¹´íŽ˜: ì§€ì—­ ì»¤ë®¤ë‹ˆí‹° ì •ë³´ (í˜„ìž¬ ìŠ¤í‚µ)
echo.

python run_platform_keywords_crawler.py

if %errorlevel% neq 0 (
    echo âŒ í¬ë¡¤ë§ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.
    pause
    exit /b 1
)

echo.
echo âœ… í¬ë¡¤ë§ ì™„ë£Œ!
echo.

echo ================= 2ë‹¨ê³„: í”„ë¡ íŠ¸ì—”ë“œ ë™ê¸°í™” =================
echo ðŸ”„ í”„ë¡ íŠ¸ì—”ë“œ ë°ì´í„° ë™ê¸°í™”ë¥¼ ì‹œìž‘í•©ë‹ˆë‹¤...
echo.

python sync_to_frontend.py --sync

if %errorlevel% neq 0 (
    echo âŒ ë™ê¸°í™” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.
    pause
    exit /b 1
)

echo.
echo ====================== ìž‘ì—… ì™„ë£Œ! ======================
echo âœ… ì „ì²´ í¬ë¡¤ë§ ì™„ë£Œ!
echo âœ… í”„ë¡ íŠ¸ì—”ë“œ ë™ê¸°í™” ì™„ë£Œ!
echo â° ì™„ë£Œ ì‹œê°„: %date% %time%
echo.
echo ðŸ“Š ê²°ê³¼ í™•ì¸:
echo   - í¬ë¡¤ë§ ë°ì´í„°: data/enhanced_news/ í´ë”
echo   - í”„ë¡ íŠ¸ì—”ë“œ: frontend/public/data/ í´ë”
echo.
echo ðŸŒ ì›¹ì‚¬ì´íŠ¸ì—ì„œ ìµœì‹  ë°ì´í„°ë¥¼ í™•ì¸í•´ë³´ì„¸ìš”!
echo.
echo ì•„ë¬´ í‚¤ë‚˜ ëˆ„ë¥´ë©´ ì¢…ë£Œí•©ë‹ˆë‹¤...
pause > nul 